@model MedicinaPrepagada.Models.DBMedicinaPrepagada.Source.Facturas

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Recaudar</h2>

<form class="form-horizontal" method="get" action="/Facturas/Edit">
    <div class="form-group">
        <label for="id" class="control-label col-md-2">Código de factura</label>
        <div class="col-md-10">
            <input class="form-control" id="id" name="id" />
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Buscar" class="btn btn-default" />
        </div>
    </div>
</form>

@if (Model != null)
{
    <h2>Factura</h2>

    <div>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                Factura
            </dt>

            <dd>
                @Model.id_factura
            </dd>

            <dt>
                Fecha de factura
            </dt>

            <dd>
                @Model.fecha_factura.ToString("yyyy-MM-dd")
            </dd>

            <dt>
                Cliente
            </dt>

            <dd>
                @Model.Titulares.Pacientes.nombre @Model.Titulares.Pacientes.apellidos
            </dd>

            <dt>
                Membresia
            </dt>

            <dd>
                @Model.Titulares.Membresias.descripcion
            </dd>

            <dt>
                Periodo de facturación
            </dt>

            <dd>
                @Model.fecha_factura_inicio.ToString("yyyy-MM-dd") - @Model.fecha_factura_fin.ToString("yyyy-MM-dd")
            </dd>

            <dt>
                Total a pagar
            </dt>

            <dd>
                $ @ViewBag.total
            </dd>

            <dt>
                Estado
            </dt>

            <dd>
                @Html.DisplayFor(model => model.estado)
            </dd>

        </dl>

    </div>
    <form class="form-horizontal" method="post" action="/Facturas/Edit">
        @Html.AntiForgeryToken()

        <input type="hidden" value="@Model.id_factura" id="id" name="id"/>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Pagar" class="btn btn-default" />
            </div>
        </div>
    </form>
}


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
